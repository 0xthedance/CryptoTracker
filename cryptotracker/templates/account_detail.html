{% extends "base.html" %}

{% block content %}

<section class="section">
    <div class="container">
        <h1 class="title">{{account.public_address}}</h1>
        <h2 class="subtitle">Name:</h2>
        <h2 class="subtitle my-6">Wallet</h2>
        <h1 class="title my-6">Assets</h1>

        {% if assets %}
        <div class="columns is-multiline">
            {% for asset in assets %}
                <div class="column is-one-half">
                    <div class="card">
                        <header class="card-header">
                            <p class="card-header-title">{{ asset.cryptocurrency }}</p>
                        </header>
                        <div class="card-content">
                            <div class="content">
                                <p>Amount: {{ asset.amount }}</p>
                                <p>Amount (EUR): {{ asset.amount_eur }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
            {% else %}
    <p>This account has no funds.</p>
            {% endif %}

        </div>
        <div class="container">
            <h1 class="title my-6">Staking</h1>
        {% if total_eth_staking %}
            <div class="column is-one-half">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title">Ethereum</p>
                    </header>
                    <div class="card-content">
                        <div class="content">
                            <p>Number of Validators: {{total_eth_staking.num_validators}}</p>
                            <p>Balance: {{ total_eth_staking.balance}}</p>
                            <p>Balance (EUR): {{ total_eth_staking.balance_eur}}</p>
                        </div>
                    </div>
                </div>
            </div>

    {% else %}
    <p>This account has no staking.</p>
{% endif %}
<div class="buttons">
    <a class="button is-primary mt-6" href="{% url "accounts" %}">              <strong>Back to accounts</strong>
    </a>
    <form action="{% url 'delete_account' account.public_address %}" method="post" onsubmit="return confirm('Are you sure you want to delete this account?')">
        {% csrf_token %}
        <button type="submit" class="button is-danger mt-6">Delete Account</button>
    </form>

  </div>

    </div>
</section>
{% endblock content %}
